import{D as x,r as t,b as f,j as s,K as c,z as r}from"./vendor-sH-yV7sT.js";import{r as h}from"./auth-CUzrtoyF.js";import"./index-CUPUJmJk.js";function b(){const{token:i}=x(),[e,d]=t.useState(""),[l,m]=t.useState(""),[n,o]=t.useState(!1),p=f(),u=async a=>{if(a.preventDefault(),!e||e.length<6)return r.error("Password must be at least 6 characters");if(e!==l)return r.error("Passwords do not match");try{o(!0),await h({token:i,password:e}),r.success("Password changed. Please log in."),p("/login")}catch{}finally{o(!1)}};return s.jsx("div",{className:"container-max section grid place-items-center",children:s.jsxs("div",{className:"card w-full max-w-md p-6 md:p-8",children:[s.jsx("h1",{className:"text-2xl font-extrabold",children:"Set a new password"}),s.jsxs("form",{onSubmit:u,className:"mt-6 space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium",children:"New password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{className:"input pl-10",type:"password",value:e,onChange:a=>d(a.target.value),placeholder:"••••••••"}),s.jsx(c,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium",children:"Confirm password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{className:"input pl-10",type:"password",value:l,onChange:a=>m(a.target.value),placeholder:"••••••••"}),s.jsx(c,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]})]}),s.jsx("button",{className:"btn btn-primary w-full",disabled:n,children:n?"Saving…":"Reset password"})]})]})})}export{b as default};
